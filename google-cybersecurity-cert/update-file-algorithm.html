<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Update a File Through a Python Algorithm</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      max-width: 800px; 
      margin: auto; 
      padding: 20px; 
      line-height: 1.6; 
    }
    h1, h2 { text-align: center; }
    h3 { margin-top: 2rem; }
    pre {
      background-color: #f4f4f4;
      padding: 1rem;
      border-radius: 5px;
      overflow-x: auto;
    }
    code {
      font-family: Consolas, monospace;
    }
    p { margin: 1rem 0; }
  </style>
</head>
<body>

  <h1>Update a File Through a Python Algorithm</h1>

  <h2>Project Description</h2>
  <p>
    In my role as a cybersecurity analyst, I created a Python-based algorithm to help maintain the allow list of IP addresses that can access restricted resources. This allow list, stored in <code>"allow_list.txt"</code>, needs to be regularly updated to remove IP addresses that should no longer have access. My algorithm automates this process to help keep access control up to date and consistent.
  </p>

  <h3>Step 1: Assign the File Name</h3>
  <p>
    First, I created a variable to store the name of the file I wanted to work with. This makes the code more maintainable and easier to reuse.
  </p>
  <pre><code># Assign import_file to the name of the file
import_file = "allow_list.txt"</code></pre>

  <h3>Step 2: Open the File for Reading</h3>
  <p>
    I then used a <code>with</code> statement in combination with the <code>open()</code> function to read the file. Using <code>with</code> ensures the file is automatically closed once the operation finishes, which is a best practice.
  </p>
  <pre><code># Build with statement to read the initial contents of the file
with open(import_file, "r") as file:
    # Use .read() to read the imported file and store it
    ip_addresses = file.read()</code></pre>

  <h3>Step 3: Convert to a List</h3>
  <p>
    To work with the data more effectively, I transformed the string of IP addresses into a list by applying the <code>.split()</code> method.
  </p>
  <pre><code># Convert ip_addresses from a string to a list
ip_addresses = ip_addresses.split()</code></pre>

  <h3>Step 4: Iterate Through the Remove List</h3>
  <p>
    I used a <code>for</code> loop to process every entry from a separate list of IP addresses that should be removed. This loop checks each removal candidate against the current allow list.
  </p>
  <pre><code># Build iterative statement to loop through remove_list
for element in remove_list:
    # Create conditional statement to check if element is in ip_addresses
    if element in ip_addresses:
        # Use the .remove() method to remove elements from ip_addresses
        ip_addresses.remove(element)</code></pre>

  <h3>Step 5: Convert the List Back to a String</h3>
  <p>
    After updating the list, I combined the IP addresses back into a string using the <code>.join()</code> method with a newline character, so that each address appears on its own line in the file.
  </p>
  <pre><code># Convert ip_addresses back to a string for writing into the file
ip_addresses = "\n".join(ip_addresses)</code></pre>

  <h3>Step 6: Write Back to the File</h3>
  <p>
    Finally, I reopened the file in write mode using another <code>with</code> block and replaced its contents with the updated IP address list using the <code>.write()</code> method.
  </p>
  <pre><code># Build with statement to rewrite the original file
with open(import_file, "w") as file:
    # Rewrite the file with the updated contents
    file.write(ip_addresses)</code></pre>

  <h2>Summary</h2>
  <p>
    This project demonstrates how to automate the task of maintaining an allow list by writing a Python script. I loaded the list of approved IP addresses, transformed it into a list structure, then iterated over a list of addresses to remove, deleting them from the list where appropriate. Finally, I converted the cleaned list back into a string and overwrote the original file with the new data. This process supports improved access control and consistent updates with minimal manual steps.
  </p>

  <p style="text-align:center; margin-top: 2rem;">
    <a href="../index.html">&larr; Back to Portfolio</a>
  </p>

</body>
</html>
